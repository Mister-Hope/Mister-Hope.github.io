---
title: 目录
icon: tree
date: 2019-11-17
category: Linux
---

## Linux 文件目录结构

学习 Linux，不仅限于学习各种命令，了解整个 Linux 文件系统的目录结构以及各个目录的功能同样至关重要。

使用 Linux 时，通过命令行输入 `ls -l /` 可以看到，在 Linux 根目录 (/) 下包含很多的子目录(称为一级目录)，例如 `bin`、`boot`、`dev` 等。同时，各一级目录下还含有很多子目录(称为二级目录)，比如 `/bin/bash`、`/bin/ed` 等。Linux 文件系统目录总体呈现树形结构，`/` 根目录就相当于树根。

由于 Linux 系统免费开源，使得 Linux 发行版本有很多，利用 Linux 开发产品的团队也有很多，如果任由每个人都按照自己的想法来配置 Linux 系统文件目录，后期可能会产生诸多的管理问题。试想，如果您进入一家公司，所用 Linux 系统的文件目录结构与所学的完全不同，实在令人头疼。

为了避免诸多使用者对 Linux 系统目录结构天马行空，Linux 基金会发布了 FHS 标准。多数 Linux 发行版系统都遵循这一标准。

::: tip

FHS(Filesystem Hierarchy Standard)，文件系统层次化标准，该标准规定了 Linux 系统中所有一级目录以及部分二级目录(`/usr` 和 `/var`)的用途。发布此标准的主要目的就是为了让用户清楚地了解每个目录应该存放什么类型的文件。

:::

## Linux 根目录(/)

FHS 认为，Linux 系统的根目录 (/) 最为重要(没有之一)，其原因有以下 2 点:

- 所有目录都是由根目录衍生出来的；
- 根目录与系统的开机、修复、还原密切相关；

因此，根目录必须包含开机软件、核心文件、开机所需程序、函数库、修复系统程序等文件。

| 一级目录 | 功能(作用)                                                                                                                                                                                                                                                                                                                                   |
| -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| /bin/    | 存放系统命令，普通用户和 root 都可以执行。放在 `/bin` 下的命令在单用户模式下也可以执行                                                                                                                                                                                                                                                       |
| /boot/   | 系统启动目录，保存与系统启动相关的文件，如内核文件和启动引导程序(grub)文件等                                                                                                                                                                                                                                                                 |
| /dev/    | 设备文件保存位置                                                                                                                                                                                                                                                                                                                             |
| /etc/    | 配置文件保存位置。系统内所有采用默认安装方式(rpm 安装)的服务配置文件全部保存在此目录中，如用户信息、服务的启动脚本、常用服务的配置文件等                                                                                                                                                                                                     |
| /home/   | 普通用户的主目录(也称为家目录)。在创建用户时，每个用户要有一个默认登录和保存自己数据的位置，就是用户的主目录，所有普通用户的主目录是在 `/home/` 下建立一个和用户名相同的目录。如用户 liming 的主目录就是 `/home/liming`                                                                                                                      |
| /lib/    | 系统调用的函数库保存位置                                                                                                                                                                                                                                                                                                                     |
| /media/  | 挂载目录。系统建议用来挂载媒体设备，如软盘和光盘                                                                                                                                                                                                                                                                                             |
| /mnt/    | 挂载目录。早期 Linux 中只有这一个挂载目录，并没有细分。系统建议这个目录用来挂载额外的设备，如 U 盘、移动硬盘和其他操作系统的分区                                                                                                                                                                                                             |
| /misc/   | 挂载目录。系统建议用来挂载 NFS 服务的共享目录。虽然系统准备了三个默认挂载目录 `/media/`、`/mnt/`、`/misc/`，但是到底在哪个目录中挂载什么设备可以由管理员自己决定。例如，笔者在接触 Linux 的时候，默认挂载目录只有 /mnt/，所以养成了在 `/mnt/` 下建立不同目录挂载不同设备的习惯，如 `/mnt/cdrom/` 挂载光盘、`/mnt/usb/` 挂载 U 盘，都是可以的 |
| /opt/    | 第三方安装的软件保存位置。这个目录是放置和安装其他软件的位置，手工安装的源码包软件都可以安装到这个目录中。不过笔者还是习惯把软件放到 `/usr/local/` 目录中，也就是说，`/usr/local/` 目录也可以用来安装软件                                                                                                                                    |
| /root/   | root 的主目录。普通用户主目录在 `/home/` 下，root 主目录直接在“/”下                                                                                                                                                                                                                                                                          |
| /sbin/   | 保存与系统环境设置相关的命令，只有 root 可以使用这些命令进行系统环境设置，但也有些命令可以允许普通用户查看                                                                                                                                                                                                                                   |
| /srv/    | 服务数据目录。一些系统服务启动之后，可以在这个目录中保存所需要的数据                                                                                                                                                                                                                                                                         |
| /tmp/    | 临时目录。系统存放临时文件的目录，在该目录下，所有用户都可以访问和写入。建议此目录中不能保存重要数据，最好每次开机都把该目录清空                                                                                                                                                                                                             |

FHS 针对根目录中包含的子目录仅限于上表，但除此之外，Linux 系统根目录下通常还包含下表中的几个一级目录。

| 一级目录     | 功能(作用)                                                                                                                                                                                                                                                                         |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| /lost+found/ | 当系统意外崩溃或意外关机时，产生的一些文件碎片会存放在这里。在系统启动的过程中，fsck 工具会检查这里，并修复已经损坏的文件系统。这个目录只在每个分区中出现，例如，`/lost+found` 就是根分区的备份恢复目录，`/boot/lost+found` 就是 `/boot` 分区的备份恢复目录                        |
| /proc/       | 虚拟文件系统。该目录中的数据并不保存在硬盘上，而是保存到内存中。主要保存系统的内核、进程、外部设备状态和网络状态等。如 `/proc/cpuinfo` 是保存 CPU 信息的，`/proc/devices` 是保存设备驱动的列表的，`/proc/filesystems` 是保存文件系统列表的，`/proc/net` 是保存网络协议信息的...... |
| /sys/        | 虚拟文件系统。和 `/proc/` 目录相似，该目录中的数据都保存在内存中，主要保存与内核相关的信息                                                                                                                                                                                         |

## Linux /usr 目录

usr(注意不是 user)，全称为 Unix Software Resource，此目录用于存储系统软件资源。FHS 建议所有开发者，应把软件产品的数据合理的放置在 `/usr` 目录下的各子目录中，而不是为他们的产品创建单独的目录。

Linux 系统中，所有系统默认的软件都存储在 `/usr` 目录下，`/usr` 目录类似 Windows 系统中 `C:\Windows\` + `C:\Program files\` 两个目录的综合体。

FHS 建议，`/usr` 目录应具备下表所示的子目录。

| 子目录       | 功能(作用)                                                                                                                                                                   |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| /usr/bin/    | 存放系统命令，普通用户和超级用户都可以执行。这些命令和系统启动无关，在单用户模式下不能执行                                                                                   |
| /usr/sbin/   | 存放根文件系统不必要的系统管理命令，如多数服务程序，只有 root 可以使用。                                                                                                     |
| /usr/lib/    | 应用程序调用的函数库保存位置                                                                                                                                                 |
| /usr/XllR6/  | 图形界面系统保存位置                                                                                                                                                         |
| /usr/local/  | 手工安装的软件保存位置。我们一般建议源码包软件安装在这个位置                                                                                                                 |
| /usr/share/  | 应用程序的资源文件保存位置，如帮助文档、说明文档和字体目录                                                                                                                   |
| /usr/src/    | 源码包保存位置。我们手工下载的源码包和内核源码包都可以保存到这里。不过笔者更习惯把手工下载的源码包保存到 `/usr/local/src/` 目录中，把内核源码保存到 `/usr/src/linux/` 目录中 |
| /usr/include | C/C++ 等编程语言头文件的放置目录                                                                                                                                             |

## Linux /var 目录

`/var` 目录用于存储动态数据，例如缓存、日志文件、软件运行过程中产生的文件等。通常，此目录下建议包含如下表所示的这些子目录。

| /var 子目录        | 功能(作用)                                                                                                                          |
| ------------------ | ----------------------------------------------------------------------------------------------------------------------------------- |
| /var/lib/          | 程序运行中需要调用或改变的数据保存位置。如 MySQL 的数据库保存在 `/var/lib/mysql/` 目录中                                            |
| /var/log/          | 登陆文件放置的目录，其中所包含比较重要的文件如 `/var/log/messages`, `/var/log/wtmp` 等。                                            |
| /var/run/          | 一些服务和程序运行后，它们的 PID(进程 ID)保存位置                                                                                   |
| /var/spool/        | 里面主要都是一些临时存放，随时会被用户所调用的数据，例如 `/var/spool/mail/` 存放新收到的邮件，`/var/spool/cron/` 存放系统定时任务。 |
| /var/www/          | RPM 包安装的 Apache 的网页主目录                                                                                                    |
| /var/nis 和/var/yp | NIS 服务机制所使用的目录，nis 主要记录所有网络中每一个 client 的连接信息；yp 是 linux 的 nis 服务的日志文件存放的目录               |
| /var/tmp           | 一些应用程序在安装或执行时，需要在重启后使用的某些文件，此目录能将该类文件暂时存放起来，完成后再行删除                              |

根据以上各表列举的各目录及作用，如果我们要做一些实验和练习，需要创建一些临时文件，应该保存在哪里呢?

答案是用户的主目录或 `/tmp/` 临时目录。但是要小心有些目录中不能直接修改和保存数据，比如 `/proc/fn/sys/` 目录，因为它们是保存在内存中的，如果在这里写入数据，那么您的内存会越来越小，直至死机；`/boot/` 目录也不能保存额外数据，因为 `/boot/` 目录会单独分区作为启动分区，如果没有空闲空间，则会导致系统不能正常启动。

总之，Linux 要在合理的目录下进行操作和修改。

::: warning

目录名或文件名都是区分大小写的，如 dog、DOG 和 Dog 为 3 个不同的目录或文件。完整的目录或文件路径是由一连串的目录名所组成的，其中每一个目录由 `/` 来分隔。如 cat 的完整路径是 `/home/cat`。

:::

## 硬件设备名称

| 硬件设备       | 文件名称                                                                             |
| -------------- | ------------------------------------------------------------------------------------ |
| IDE 设备       | `/dev/hd[a-d]`，现在的 IDE 设备已经很少见了，因此一般的硬盘设备会以 `/dev/sd` 开头。 |
| SCSI/SATA/U 盘 | `/dev/sd[a-p]`，一台主机可以有多块硬盘，因此系统采用 a~p 代表 16 块不同的硬盘。      |
| 软驱           | `/dev/fd[0-1]`                                                                       |
| 打印机         | `/dev/lp[0-15]`                                                                      |
| 光驱           | `/dev/cdrom`                                                                         |
| 鼠标           | `/dev/mouse`                                                                         |
| 磁带机         | `/dev/st0` 或 `/dev/ht0`                                                             |
