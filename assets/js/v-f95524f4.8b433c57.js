"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[34782],{84404:(n,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(55511);const e=[(0,t._)("p",null,"当我们在传入函数时，有些时候，不需要显式地定义函数，直接传入匿名函数更方便。",-1),(0,t._)("p",null,[(0,t.Uk)("在 Python 中，对匿名函数提供了有限支持。还是以 "),(0,t._)("code",null,"map()"),(0,t.Uk)(" 函数为例，计算 "),(0,t._)("span",{class:"katex"},[(0,t._)("span",{class:"katex-mathml"},[(0,t._)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t._)("semantics",null,[(0,t._)("mrow",null,[(0,t._)("mi",null,"f"),(0,t._)("mo",{stretchy:"false"},"("),(0,t._)("mi",null,"x"),(0,t._)("mo",{stretchy:"false"},")"),(0,t._)("mo",null,"="),(0,t._)("msup",null,[(0,t._)("mi",null,"x"),(0,t._)("mn",null,"2")])]),(0,t._)("annotation",{encoding:"application/x-tex"},"f(x)=x^2")])])]),(0,t._)("span",{class:"katex-html","aria-hidden":"true"},[(0,t._)("span",{class:"base"},[(0,t._)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t._)("span",{class:"mord mathnormal",style:{"margin-right":"0.10764em"}},"f"),(0,t._)("span",{class:"mopen"},"("),(0,t._)("span",{class:"mord mathnormal"},"x"),(0,t._)("span",{class:"mclose"},")"),(0,t._)("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),(0,t._)("span",{class:"mrel"},"="),(0,t._)("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),(0,t._)("span",{class:"base"},[(0,t._)("span",{class:"strut",style:{height:"0.8141em"}}),(0,t._)("span",{class:"mord"},[(0,t._)("span",{class:"mord mathnormal"},"x"),(0,t._)("span",{class:"msupsub"},[(0,t._)("span",{class:"vlist-t"},[(0,t._)("span",{class:"vlist-r"},[(0,t._)("span",{class:"vlist",style:{height:"0.8141em"}},[(0,t._)("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[(0,t._)("span",{class:"pstrut",style:{height:"2.7em"}}),(0,t._)("span",{class:"sizing reset-size6 size3 mtight"},[(0,t._)("span",{class:"mord mtight"},"2")])])])])])])])])])]),(0,t.Uk)(" 时，除了定义一个 "),(0,t._)("span",{class:"katex"},[(0,t._)("span",{class:"katex-mathml"},[(0,t._)("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[(0,t._)("semantics",null,[(0,t._)("mrow",null,[(0,t._)("mi",null,"f"),(0,t._)("mo",{stretchy:"false"},"("),(0,t._)("mi",null,"x"),(0,t._)("mo",{stretchy:"false"},")")]),(0,t._)("annotation",{encoding:"application/x-tex"},"f(x)")])])]),(0,t._)("span",{class:"katex-html","aria-hidden":"true"},[(0,t._)("span",{class:"base"},[(0,t._)("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),(0,t._)("span",{class:"mord mathnormal",style:{"margin-right":"0.10764em"}},"f"),(0,t._)("span",{class:"mopen"},"("),(0,t._)("span",{class:"mord mathnormal"},"x"),(0,t._)("span",{class:"mclose"},")")])])]),(0,t.Uk)(" 的函数外，还可以直接传入匿名函数:")],-1),(0,t.uE)('<div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>通过对比可以看出，匿名函数 <code>lambda x: x* x</code> 实际上就是:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>\n    <span class="token keyword">return</span> x <span class="token operator">*</span> x\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>关键字 <code>lambda</code> 表示匿名函数，冒号前面的 <code>x</code> 表示函数参数。</p><p>匿名函数有个限制，就是只能有一个表达式，不用写 <code>return</code>，返回值就是该表达式的结果。</p><p>用匿名函数有个好处，因为函数没有名字，不必担心函数名冲突。此外，匿名函数也是一个函数对象，也可以把匿名函数赋值给一个变量，再利用变量来调用该函数:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">*</span> x\n<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f\n<span class="token operator">&lt;</span>function <span class="token operator">&lt;</span><span class="token keyword">lambda</span><span class="token operator">&gt;</span> at <span class="token number">0x101c6ef28</span><span class="token operator">&gt;</span>\n<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>\n<span class="token number">25</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>同样，也可以把匿名函数作为返回值返回，比如:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>\n    <span class="token keyword">return</span> <span class="token keyword">lambda</span><span class="token punctuation">:</span> x <span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span> y\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="小结" tabindex="-1"><a class="header-anchor" href="#小结" aria-hidden="true">#</a> 小结</h2><p>Python 对匿名函数的支持有限，只有一些简单的情况下可以使用匿名函数。</p>',11)],p={},o=(0,s(61935).Z)(p,[["render",function(n,a){return(0,t.wg)(),(0,t.iD)("div",null,e)}]])},61935:(n,a)=>{a.Z=(n,a)=>{const s=n.__vccOpts||n;for(const[n,t]of a)s[n]=t;return s}},35185:(n,a,s)=>{s.r(a),s.d(a,{data:()=>t});const t=JSON.parse('{"key":"v-f95524f4","path":"/code/language/python/functional-programming/anonymous-function.html","title":"匿名函数","lang":"zh-CN","frontmatter":{"title":"匿名函数","icon":"anonymous","author":"廖雪峰","date":"2021-03-15T00:00:00.000Z","category":["Python"],"summary":"当我们在传入函数时，有些时候，不需要显式地定义函数，直接传入匿名函数更方便。 在 Python 中，对匿名函数提供了有限支持。还是以 map() 函数为例，计算 $f(x)=x^2$ 时，除了定义一个 $f(x)$ 的函数外，还可以直接传入匿名函数: 通过对比可以看出，匿名函数 lambda x: x* x 实际上就是: 关键字 lambda 表示匿名函数，","head":[["meta",{"property":"og:url","content":"https://mrhope.site/code/language/python/functional-programming/anonymous-function.html"}],["meta",{"property":"og:site_name","content":"Mr.Hope"}],["meta",{"property":"og:title","content":"匿名函数"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-02-06T16:46:58.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"廖雪峰"}],["meta",{"property":"article:published_time","content":"2021-03-15T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-02-06T16:46:58.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"小结","slug":"小结","link":"#小结","children":[]}],"git":{"createdTime":1615823008000,"updatedTime":1644166018000,"contributors":[{"name":"Mr.Hope","email":"zhangbowang1998@gmail.com","commits":2},{"name":"Mister-Hope","email":"zhangbowang1998@gmail.com","commits":1}]},"readingTime":{"minutes":1.18,"words":354},"filePathRelative":"code/language/python/functional-programming/anonymous-function.md","localizedDate":"2021年3月15日"}')}}]);