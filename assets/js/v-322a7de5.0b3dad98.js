"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[22767],{64919:(n,s,a)=>{a.r(s),a.d(s,{default:()=>c});var t=a(55511);const e=(0,t._)("p",null,"在 JavaScript 的世界里，一切都是对象。",-1),p=(0,t.uE)('<p>但是某些对象还是和其他对象不太一样。为了区分对象的类型，我们用 <code>typeof</code> 操作符获取对象的类型，它总是返回一个字符串:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// &#39;number&#39;</span>\n<span class="token keyword">typeof</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// &#39;number&#39;</span>\n<span class="token keyword">typeof</span> <span class="token string">&quot;str&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &#39;string&#39;</span>\n<span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// &#39;boolean&#39;</span>\n<span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// &#39;undefined&#39;</span>\n<span class="token keyword">typeof</span> Math<span class="token punctuation">.</span>abs<span class="token punctuation">;</span> <span class="token comment">// &#39;function&#39;</span>\n<span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// &#39;object&#39;</span>\n<span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &#39;object&#39;</span>\n<span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// &#39;object&#39;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可见，<code>number</code>、<code>string</code>、<code>boolean</code>、<code>function</code> 和 <code>undefined</code> 有别于其他类型。特别注意 <code>null</code> 的类型是 <code>object</code>，<code>Array</code> 的类型也是 <code>object</code>，如果我们用 <code>typeof</code> 将无法区分出 <code>null</code>、<code>Array</code> 和通常意义上的 object —— <code>{}</code>。</p><p>JavaScript 的所有数据都可以看成对象，那是不是我们已经在使用面向对象编程了呢?</p><p>当然不是。如果我们只使用 <code>Number</code>、<code>Array</code>、<code>string</code> 以及基本的 <code>{...}</code> 定义的对象，还无法发挥出面向对象编程的威力。</p><p>JavaScript 的面向对象编程和大多数其他语言如 Java、C# 的面向对象编程都不太一样。如果您熟悉 Java 或 C#，很好，您一定明白面向对象的两个基本概念:</p><ol><li><p>类: 类是对象的类型模板，例如，定义 <code>Student</code> 类来表示学生，类本身是一种类型，<code>Student</code> 表示学生类型，但不表示任何具体的某个学生；</p></li><li><p>实例: 实例是根据类创建的对象，例如，根据 <code>Student</code> 类可以创建出 <code>xiaoming</code>、<code>xiaohong</code>、<code>xiaojun</code> 等多个实例，每个实例表示一个具体的学生，他们全都属于 <code>Student</code> 类型。</p></li></ol><p>所以，类和实例是大多数面向对象编程语言的基本概念。</p><p>不过，在 JavaScript 中，这个概念需要改一改。JavaScript 不区分类和实例的概念，而是通过原型 (<code>prototype</code>) 来实现面向对象编程。</p><p>原型是指当我们想要创建 <code>xiaoming</code> 这个具体的学生时，我们并没有一个 <code>Student</code> 类型可用。</p><p>于是我们创建对象 <code>Student</code>，然后创建出 <code>xiaoming</code>:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Student <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;studentUnknown&quot;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">1.8</span><span class="token punctuation">,</span>\n  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is running...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> xiaoming <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nxiaoming<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> Student<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意最后一行代码把 <code>xiaoming</code> 的原型指向了对象 <code>Student</code>，看上去 <code>xiaoming</code> 仿佛是从 <code>Student</code> 继承下来的:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>xiaoming<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// &#39;小明&#39;</span>\nxiaoming<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小明 is running...</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>xiaoming</code> 有自己的 <code>name</code> 属性，但并没有定义 <code>run()</code> 方法。不过，由于小明是从 <code>Student</code> 继承而来，只要 <code>Student</code> 有 <code>run()</code> 方法，<code>xiaoming</code> 也可以调用:</p><p><img src="data:image/png;base64,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" alt="xiaoming-prototype"></p><p>JavaScript 的原型链和 Java 的 <code>Class</code> 区别就在，它没有 “Class” 的概念，所有对象都是实例，所谓继承关系不过是把一个对象的原型指向另一个对象而已。</p><p>如果您把 <code>xiaoming</code> 的原型指向其他对象:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Bird <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is flying...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nxiaoming<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> Bird<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在 <code>xiaoming</code> 已经无法 <code>run()</code> 了，他已经变成了一只鸟:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>xiaoming<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小明 is flying...</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在 JavaScrip 代码运行时期，您可以把 <code>xiaoming</code> 从 <code>Student</code> 变成 <code>Bird</code>，或者变成任何对象。</p><p>请注意，上述代码仅用于演示目的。在编写 JavaScript 代码时，不要直接用 <code>obj.__proto__</code> 去改变一个对象的原型，并且，低版本的 IE 也无法使用 <code>__proto__。Object.create()</code> 方法可以传入一个原型对象，并创建一个基于该原型的新对象，但是新对象什么属性都没有，因此，我们可以编写一个函数来创建 <code>xiaoming</code>:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 原型对象:</span>\n<span class="token keyword">const</span> Student <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Robot&quot;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">1.2</span><span class="token punctuation">,</span>\n  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is running...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">createStudent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 基于Student原型创建一个新对象:</span>\n  <span class="token keyword">const</span> s <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Student<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// 初始化新对象:</span>\n  s<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> s<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> xiaoming <span class="token operator">=</span> <span class="token function">createStudent</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nxiaoming<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小明 is running...</span>\nxiaoming<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Student<span class="token punctuation">;</span> <span class="token comment">// true</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这是创建原型继承的一种方法，JavaScript 还有其他方法来创建对象，我们在后面会一一讲到。</p>',25),o={},c=(0,a(61935).Z)(o,[["render",function(n,s){return(0,t.wg)(),(0,t.iD)("div",null,[e,(0,t.kq)(" more "),p])}]])},61935:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,t]of s)a[n]=t;return a}},84258:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t=JSON.parse('{"key":"v-322a7de5","path":"/code/language/js/object/intro.html","title":"对象及原型简介","lang":"zh-CN","frontmatter":{"title":"对象及原型简介","icon":"object","date":"2019-10-08T00:00:00.000Z","category":["JavaScript"],"summary":"在 JavaScript 的世界里，一切都是对象。\\n","head":[["meta",{"property":"og:url","content":"https://mrhope.site/code/language/js/object/intro.html"}],["meta",{"property":"og:site_name","content":"Mr.Hope"}],["meta",{"property":"og:title","content":"对象及原型简介"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-02-06T16:46:58.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:published_time","content":"2019-10-08T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-02-06T16:46:58.000Z"}]]},"excerpt":"<p>在 JavaScript 的世界里，一切都是对象。</p>\\n","headers":[],"git":{"createdTime":1591204114000,"updatedTime":1644166018000,"contributors":[{"name":"Mr.Hope","email":"zhangbowang1998@gmail.com","commits":4}]},"readingTime":{"minutes":3.15,"words":946},"filePathRelative":"code/language/js/object/intro.md","localizedDate":"2019年10月8日"}')}}]);