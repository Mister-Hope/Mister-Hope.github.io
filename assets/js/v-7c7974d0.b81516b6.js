"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[20684],{46869:(n,s,a)=>{a.r(s),a.d(s,{default:()=>qn});var p=a(66252);const e=(0,p.Uk)("该章内容并不全面，只是为喜欢通过示例学习的人们简要介绍了该语言。您可能还需要查看语言和库导览，或 "),t=(0,p.Uk)("Dart 概要"),o=(0,p.Uk)("。"),c=(0,p.uE)('<h2 id="hello-world" tabindex="-1"><a class="header-anchor" href="#hello-world" aria-hidden="true">#</a> Hello World</h2><p>每个应用都有 <code>main()</code> 函数。要在控制台上显示文本，可以使用顶级 <code>print()</code> 函数:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Hello, World!&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="变量" tabindex="-1"><a class="header-anchor" href="#变量" aria-hidden="true">#</a> 变量</h2><p>即使在类型安全的 Dart 代码中，由于类型推断，大多数变量也不需要显式类型:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&#39;Voyager I&#39;</span></span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token number">1977</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> antennaDiameter <span class="token operator">=</span> <span class="token number">3.7</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> flybyObjects <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&#39;Jupiter&#39;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;Saturn&#39;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;Uranus&#39;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;Neptune&#39;</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> image <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token string-literal"><span class="token string">&#39;tags&#39;</span></span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&#39;saturn&#39;</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token string-literal"><span class="token string">&#39;url&#39;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;//path/to/saturn.jpg&#39;</span></span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>',6),l={href:"https://dart.dev/guides/language/language-tour#variables",target:"_blank",rel:"noopener noreferrer"},r=(0,p.Uk)("阅读有关 Dart 中变量的更多信息"),u=(0,p.Uk)("，包括默认值，"),i=(0,p._)("code",null,"final",-1),k=(0,p.Uk)(" 和 "),d=(0,p._)("code",null,"const",-1),b=(0,p.Uk)(" 关键字以及静态类型。"),m=(0,p.uE)('<h2 id="控制语句" tabindex="-1"><a class="header-anchor" href="#控制语句" aria-hidden="true">#</a> 控制语句</h2><p>Dart 支持通常的控制语句:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&gt;=</span> <span class="token number">2001</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;21st century&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&gt;=</span> <span class="token number">1901</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;20th century&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> object <span class="token keyword">in</span> flybyObjects<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token function">print</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">for</span> <span class="token punctuation">(</span>int month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> month <span class="token operator">&lt;=</span> <span class="token number">12</span><span class="token punctuation">;</span> month<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token function">print</span><span class="token punctuation">(</span>month<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">while</span> <span class="token punctuation">(</span>year <span class="token operator">&lt;</span> <span class="token number">2016</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  year <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>',3),g={href:"https://dart.dev/guides/language/language-tour#control-flow-statements",target:"_blank",rel:"noopener noreferrer"},h=(0,p.Uk)("阅读有关 Dart 中控制流语句的更多信息"),f=(0,p.Uk)("，包括 "),y=(0,p._)("code",null,"break",-1),v=(0,p.Uk)(" 和 "),w=(0,p._)("code",null,"continue",-1),_=(0,p.Uk)("，"),x=(0,p._)("code",null,"switch",-1),U=(0,p.Uk)(" 和 "),D=(0,p._)("code",null,"case",-1),S=(0,p.Uk)("，和 "),W=(0,p._)("code",null,"assert",-1),j=(0,p.Uk)("。"),E=(0,p._)("h2",{id:"函数",tabindex:"-1"},[(0,p._)("a",{class:"header-anchor",href:"#函数","aria-hidden":"true"},"#"),(0,p.Uk)(" 函数")],-1),I={href:"https://dart.dev/guides/language/effective-dart/design#types",target:"_blank",rel:"noopener noreferrer"},$=(0,p.Uk)("我们建议"),C=(0,p.Uk)(" 指定每个函数的参数和返回值的类型:"),T=(0,p.uE)('<div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>int <span class="token function">fibonacci</span><span class="token punctuation">(</span>int n<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>简写 <code>=&gt;</code>(箭头)语法对于包含单个语句的函数很方便。当将匿名函数作为参数传递时，此语法特别有用:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>flybyObjects<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> name<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;turn&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>除了显示匿名函数(<code>where()</code> 的参数)之外，此代码还显示您可以将函数用作参数: 顶级 <code>print()</code> 函数是 <code>forEach()</code> 的参数。</p>',4),F={href:"https://dart.dev/guides/language/language-tour#functions",target:"_blank",rel:"noopener noreferrer"},O=(0,p.Uk)("阅读有关"),P=(0,p.Uk)(" Dart 中函数的更多信息，包括可选参数，默认参数值和词法范围。"),N=(0,p.uE)('<h2 id="注释" tabindex="-1"><a class="header-anchor" href="#注释" aria-hidden="true">#</a> 注释</h2><p>Dart 注释通常以开头 <code>//</code>。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// This is a normal, one-line comment.</span>\n\n<span class="token comment">/// This is a documentation comment, used to document libraries,</span>\n<span class="token comment">/// classes, and their members. Tools like IDEs and dartdoc treat</span>\n<span class="token comment">/// doc comments specially.</span>\n\n<span class="token comment">/*Comments like these are also supported.*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>',3),H={href:"https://dart.dev/guides/language/language-tour#comments",target:"_blank",rel:"noopener noreferrer"},L=(0,p.Uk)("阅读有关"),M=(0,p.Uk)(" Dart 中注释的更多信息，包括文档工具的工作方式。"),z=(0,p.uE)('<h2 id="导入" tabindex="-1"><a class="header-anchor" href="#导入" aria-hidden="true">#</a> 导入</h2><p>要访问其他库中定义的 API，请使用 <code>import</code>。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// Importing core libraries</span>\n<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;dart:math&#39;</span></span><span class="token punctuation">;</span>\n\n<span class="token comment">// Importing libraries from external packages</span>\n<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:test/test.dart&#39;</span></span><span class="token punctuation">;</span>\n\n<span class="token comment">// Importing files</span>\n<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;path/to/my_other_file.dart&#39;</span></span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>',3),A={href:"https://dart.dev/guides/language/language-tour#libraries-and-visibility",target:"_blank",rel:"noopener noreferrer"},R=(0,p.Uk)("阅读有关"),V=(0,p.Uk)(" Dart 中库和可见性的更多信息，包括库前缀 "),Y=(0,p._)("code",null,"show",-1),Z=(0,p.Uk)(" 和 "),J=(0,p._)("code",null,"hide",-1),q=(0,p.Uk)("，以及通过 "),B=(0,p._)("code",null,"deferred",-1),G=(0,p.Uk)(" 关键字的延迟加载。"),K=(0,p.uE)('<h2 id="类" tabindex="-1"><a class="header-anchor" href="#类" aria-hidden="true">#</a> 类</h2><p>这是一个具有三个属性，两个构造函数和一个方法的类的示例。其中一个属性不能直接设置，因此是使用 <code>getter</code> 方法(而不是变量)定义的。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Spacecraft</span> <span class="token punctuation">{</span>\n  <span class="token class-name">String</span> name<span class="token punctuation">;</span>\n  <span class="token class-name">DateTime</span> launchDate<span class="token punctuation">;</span>\n\n  <span class="token comment">// Constructor, with syntactic sugar for assignment to members.</span>\n  <span class="token class-name">Spacecraft</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>launchDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// Initialization code goes here.</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">// Named constructor that forwards to the default one.</span>\n  <span class="token class-name">Spacecraft</span><span class="token punctuation">.</span><span class="token function">unlaunched</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  int <span class="token keyword">get</span> launchYear <span class="token operator">=</span><span class="token operator">&gt;</span>\n      launchDate<span class="token operator">?</span><span class="token punctuation">.</span>year<span class="token punctuation">;</span> <span class="token comment">// read-only non-final property</span>\n\n  <span class="token comment">// Method.</span>\n  <span class="token keyword">void</span> <span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Spacecraft: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">name</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>launchDate <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      int years <span class="token operator">=</span>\n          <span class="token class-name">DateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">difference</span><span class="token punctuation">(</span>launchDate<span class="token punctuation">)</span><span class="token punctuation">.</span>inDays <span class="token operator">~/</span>\n              <span class="token number">365</span><span class="token punctuation">;</span>\n      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Launched: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">launchYear</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">years</span></span><span class="token string"> years ago)&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Unlaunched&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>您可以使用这样的 <code>Spacecraft</code> 类:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">var</span> voyager <span class="token operator">=</span> <span class="token class-name">Spacecraft</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Voyager I&#39;</span></span><span class="token punctuation">,</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1977</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nvoyager<span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> voyager3 <span class="token operator">=</span> <span class="token class-name">Spacecraft</span><span class="token punctuation">.</span><span class="token function">unlaunched</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Voyager III&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nvoyager3<span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>',5),Q={href:"https://dart.dev/guides/language/language-tour#classes",target:"_blank",rel:"noopener noreferrer"},X=(0,p.Uk)("阅读有关"),nn=(0,p.Uk)(" Dart 中类的更多信息，包括初始化列表，可选 "),sn=(0,p._)("code",null,"new",-1),an=(0,p.Uk)(" 和 "),pn=(0,p._)("code",null,"const",-1),en=(0,p.Uk)("，重定向构造函数，"),tn=(0,p._)("code",null,"factory",-1),on=(0,p.Uk)(" 构造函数，getter，setter 等。"),cn=(0,p.uE)('<h2 id="遗产" tabindex="-1"><a class="header-anchor" href="#遗产" aria-hidden="true">#</a> 遗产</h2><p>Dart 具有单一继承。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Orbiter</span> <span class="token keyword">extends</span> <span class="token class-name">Spacecraft</span> <span class="token punctuation">{</span>\n  double altitude<span class="token punctuation">;</span>\n  <span class="token class-name">Orbiter</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">DateTime</span> launchDate<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>altitude<span class="token punctuation">)</span>\n      <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> launchDate<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>',3),ln={href:"https://dart.dev/guides/language/language-tour#extending-a-class",target:"_blank",rel:"noopener noreferrer"},rn=(0,p.Uk)("阅读有关"),un=(0,p.Uk)(" 扩展类，可选 "),kn=(0,p._)("code",null,"@override",-1),dn=(0,p.Uk)(" 注释等的更多信息。"),bn=(0,p.uE)('<h2 id="混入" tabindex="-1"><a class="header-anchor" href="#混入" aria-hidden="true">#</a> 混入</h2><p>Mixins 是在多个类层次结构中重用代码的一种方式。以下类可以充当 mixin:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">Piloted</span> <span class="token punctuation">{</span>\n  int astronauts <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n  <span class="token keyword">void</span> <span class="token function">describeCrew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Number of astronauts: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">astronauts</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>要将 mixin 的功能添加到类中，只需使用 mixin 扩展类即可。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">PilotedCraft</span> <span class="token keyword">extends</span> <span class="token class-name">Spacecraft</span> <span class="token keyword">with</span> <span class="token class-name">Piloted</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ···</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>PilotedCraft</code> 现在具有 <code>astronauts</code> 字段和 <code>describeCrew()</code> 方法。</p>',6),mn={href:"https://dart.dev/guides/language/language-tour#adding-features-to-a-class-mixins",target:"_blank",rel:"noopener noreferrer"},gn=(0,p.Uk)("阅读有关"),hn=(0,p.Uk)(" mixin 的更多信息。"),fn=(0,p.uE)('<h2 id="接口和抽象类" tabindex="-1"><a class="header-anchor" href="#接口和抽象类" aria-hidden="true">#</a> 接口和抽象类</h2><p>Dart 没有 <code>interface</code> 关键字。相反，所有类都隐式定义一个接口。因此，您可以实现任何类。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MockSpaceship</span> <span class="token keyword">implements</span> <span class="token class-name">Spacecraft</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ···</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>',3),yn={href:"https://dart.dev/guides/language/language-tour#implicit-interfaces",target:"_blank",rel:"noopener noreferrer"},vn=(0,p.Uk)("阅读有关"),wn=(0,p.Uk)(" 隐式接口的更多信息。"),_n=(0,p.uE)('<p>您可以创建要由具体类扩展(或实现)的抽象类。抽象类可以包含抽象方法(具有空主体)。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Describable</span> <span class="token punctuation">{</span>\n  <span class="token keyword">void</span> <span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">void</span> <span class="token function">describeWithEmphasis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;=========&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;=========&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>任何扩展类 <code>Describable</code> 都具有 <code>describeWithEmphasis()</code> 方法，该方法调用扩展程序的实现 <code>describe()</code>。</p>',3),xn={href:"https://dart.dev/guides/language/language-tour#abstract-classes",target:"_blank",rel:"noopener noreferrer"},Un=(0,p.Uk)("阅读有关"),Dn=(0,p.Uk)(" 抽象类和方法的更多信息。"),Sn=(0,p.uE)('<h2 id="异步" tabindex="-1"><a class="header-anchor" href="#异步" aria-hidden="true">#</a> 异步</h2><p>避免陷入回调地狱，您可以使用 <code>async</code> 和 <code>await</code> 来提高代码的可读性。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">const</span> oneSecond <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// ···</span>\n<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">printWithDelay</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n  <span class="token keyword">await</span> <span class="token class-name">Future</span><span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span>oneSecond<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token function">print</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面的方法等效于:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">printWithDelay</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token class-name">Future</span><span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span>oneSecond<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">print</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如下例所示，<code>async</code> 和 <code>await</code> 有助于使异步代码易于阅读。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">createDescriptions</span><span class="token punctuation">(</span><span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> objects<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> object <span class="token keyword">in</span> objects<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">try</span> <span class="token punctuation">{</span>\n      <span class="token keyword">var</span> file <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">object</span></span><span class="token string">.txt&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> modified <span class="token operator">=</span> <span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">print</span><span class="token punctuation">(</span>\n            <span class="token string-literal"><span class="token string">&#39;File for </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">object</span></span><span class="token string"> already exists. It was modified on </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">modified</span></span><span class="token string">.&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">continue</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n      <span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">writeAsString</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Start describing </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">object</span></span><span class="token string"> in this file.&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">on</span> <span class="token class-name">IOException</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Cannot create description for </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">object</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">e</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>您还可以使用 <code>async*</code>，它为您提供了一种很好的，易于阅读的方式来构建流。</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">report</span><span class="token punctuation">(</span><span class="token class-name">Spacecraft</span> craft<span class="token punctuation">,</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> objects<span class="token punctuation">)</span> <span class="token keyword">async*</span> <span class="token punctuation">{</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> object <span class="token keyword">in</span> objects<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">await</span> <span class="token class-name">Future</span><span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span>oneSecond<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">yield</span> <span class="token string-literal"><span class="token string">&#39;</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">craft<span class="token punctuation">.</span>name</span><span class="token punctuation">}</span></span><span class="token string"> flies by </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">object</span></span><span class="token string">&#39;</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>',9),Wn={href:"https://dart.dev/guides/language/language-tour#asynchrony-support",target:"_blank",rel:"noopener noreferrer"},jn=(0,p.Uk)("阅读更多"),En=(0,p.Uk)(" 关于异步支持，包括 "),In=(0,p._)("code",null,"async",-1),$n=(0,p.Uk)(" 功能 "),Cn=(0,p._)("code",null,"Future",-1),Tn=(0,p.Uk)("，"),Fn=(0,p._)("code",null,"Stream",-1),On=(0,p.Uk)(" 和异步循环(await for)。"),Pn=(0,p.uE)('<h2 id="异常" tabindex="-1"><a class="header-anchor" href="#异常" aria-hidden="true">#</a> 异常</h2><p>要引发异常，请使用 <code>throw</code>:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>astronauts <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">throw</span> <span class="token class-name">StateError</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;No astronauts.&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>要捕获异常，请使用 <code>try</code> 带有 <code>on</code> 或 <code>catch</code>(或两者)的语句:</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> object <span class="token keyword">in</span> flybyObjects<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> description <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">object</span></span><span class="token string">.txt&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">print</span><span class="token punctuation">(</span>description<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span> <span class="token keyword">on</span> <span class="token class-name">IOException</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Could not describe object: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">e</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>\n  flybyObjects<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>注意上面的代码是异步的； <code>try</code> 适用于同步代码和 <code>async</code> 函数中的代码。</p><p>阅读有关异常的更多信息，包括堆栈跟踪 <code>rethrow</code>，和错误与异常之间的区别。</p><h2 id="其他话题" tabindex="-1"><a class="header-anchor" href="#其他话题" aria-hidden="true">#</a> 其他话题</h2>',8),Nn=(0,p.Uk)("更多的代码示例在 "),Hn={href:"https://dart.dev/guides/language/language-tour",target:"_blank",rel:"noopener noreferrer"},Ln=(0,p.Uk)("语言示例"),Mn=(0,p.Uk)(" 和 "),zn={href:"https://dart.dev/guides/libraries/library-tour",target:"_blank",rel:"noopener noreferrer"},An=(0,p.Uk)("库示例"),Rn=(0,p.Uk)(" 中。另请参阅 "),Vn={href:"https://api.dart.dev/",target:"_blank",rel:"noopener noreferrer"},Yn=(0,p.Uk)("Dart API 参考"),Zn=(0,p.Uk)("， 其中通常包含示例。"),Jn={},qn=(0,a(83744).Z)(Jn,[["render",function(n,s){const a=(0,p.up)("RouterLink"),Jn=(0,p.up)("ExternalLinkIcon");return(0,p.wg)(),(0,p.iD)(p.HY,null,[(0,p._)("p",null,[e,(0,p.Wm)(a,{to:"/code/language/dart/samples/cheatsheet.html"},{default:(0,p.w5)((()=>[t])),_:1}),o]),c,(0,p._)("p",null,[(0,p._)("a",l,[r,(0,p.Wm)(Jn)]),u,i,k,d,b]),m,(0,p._)("p",null,[(0,p._)("a",g,[h,(0,p.Wm)(Jn)]),f,y,v,w,_,x,U,D,S,W,j]),E,(0,p._)("p",null,[(0,p._)("a",I,[$,(0,p.Wm)(Jn)]),C]),T,(0,p._)("p",null,[(0,p._)("a",F,[O,(0,p.Wm)(Jn)]),P]),N,(0,p._)("p",null,[(0,p._)("a",H,[L,(0,p.Wm)(Jn)]),M]),z,(0,p._)("p",null,[(0,p._)("a",A,[R,(0,p.Wm)(Jn)]),V,Y,Z,J,q,B,G]),K,(0,p._)("p",null,[(0,p._)("a",Q,[X,(0,p.Wm)(Jn)]),nn,sn,an,pn,en,tn,on]),cn,(0,p._)("p",null,[(0,p._)("a",ln,[rn,(0,p.Wm)(Jn)]),un,kn,dn]),bn,(0,p._)("p",null,[(0,p._)("a",mn,[gn,(0,p.Wm)(Jn)]),hn]),fn,(0,p._)("p",null,[(0,p._)("a",yn,[vn,(0,p.Wm)(Jn)]),wn]),_n,(0,p._)("p",null,[(0,p._)("a",xn,[Un,(0,p.Wm)(Jn)]),Dn]),Sn,(0,p._)("p",null,[(0,p._)("a",Wn,[jn,(0,p.Wm)(Jn)]),En,In,$n,Cn,Tn,Fn,On]),Pn,(0,p._)("p",null,[Nn,(0,p._)("a",Hn,[Ln,(0,p.Wm)(Jn)]),Mn,(0,p._)("a",zn,[An,(0,p.Wm)(Jn)]),Rn,(0,p._)("a",Vn,[Yn,(0,p.Wm)(Jn)]),Zn])],64)}]])},70876:(n,s,a)=>{a.r(s),a.d(s,{data:()=>p});const p={key:"v-7c7974d0",path:"/code/language/dart/samples/samples.html",title:"dart 语言范例",lang:"zh-CN",frontmatter:{title:"dart 语言范例",icon:"discover",date:"2020-05-30T00:00:00.000Z",category:["Dart"],head:[["meta",{property:"og:url",content:"https://mrhope.site/code/language/dart/samples/samples.html"}],["meta",{property:"og:title",content:"dart 语言范例"}],["meta",{property:"og:type",content:"article"}],["meta",{property:"og:locale",content:"zh-CN"}],["meta",{name:"twitter:card",content:"summary_large_image"}],["meta",{property:"article:published_time",content:"2020-05-30T00:00:00.000Z"}]]},excerpt:'<p>该章内容并不全面，只是为喜欢通过示例学习的人们简要介绍了该语言。您可能还需要查看语言和库导览，或 <RouterLink to="/code/language/dart/samples/cheatsheet.html">Dart 概要</RouterLink>。</p>\n',headers:[{level:2,title:"Hello World",slug:"hello-world",children:[]},{level:2,title:"变量",slug:"变量",children:[]},{level:2,title:"控制语句",slug:"控制语句",children:[]},{level:2,title:"函数",slug:"函数",children:[]},{level:2,title:"注释",slug:"注释",children:[]},{level:2,title:"导入",slug:"导入",children:[]},{level:2,title:"类",slug:"类",children:[]},{level:2,title:"遗产",slug:"遗产",children:[]},{level:2,title:"混入",slug:"混入",children:[]},{level:2,title:"接口和抽象类",slug:"接口和抽象类",children:[]},{level:2,title:"异步",slug:"异步",children:[]},{level:2,title:"异常",slug:"异常",children:[]},{level:2,title:"其他话题",slug:"其他话题",children:[]}],git:{createdTime:1591204114e3,updatedTime:1644166018e3,contributors:[{name:"Mr.Hope",email:"zhangbowang1998@gmail.com",commits:3}]},readingTime:{minutes:5.07,words:1521},filePathRelative:"code/language/dart/samples/samples.md"}}}]);